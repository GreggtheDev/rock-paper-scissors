<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors Game</title>
</head>
<body><!--Nothing to see here, move along-->
    <h1>Rock Paper Scissors Game</h1><!--Heading-->
    <button onclick="playTournament(player1, player2, player3, player4, 3)">Start Tournament</button> <!-- Defines a clickable button. The onclick attribute calls a function when the button is clicked. -->
    <div id="results"></div> <!-- Defines a division or a section in an HTML document. ID attribute gives the div a unique id that can be used to select it with JavaScript. -->
    
    <script> <!-- The script tag is used to define a client-side script, such as a JavaScript. -->
        // Javascript begins here
        const hands = ["rock", "paper", "scissors"]; // Creates an array called hands that contains three strings: "rock", "paper", and "scissors".

        function getHand() { // Defines a function called getHand.
            return hands[parseInt(Math.random()*10)%3]; // Returns a random element from the hands array.
        }

        const player1 = { // Creates an object called player1.
            name: 'Player 1', // Sets the name property of the player1 object to 'Player 1'.
            getHand: getHand, // Sets the getHand property of the player1 object to the getHand function.
            wins: 0 // Sets the wins property of the player1 object to 0.
        };

        const player2 = { // Creates an object called player2.
            name: 'Player 2', // Sets the name property of the player2 object to 'Player 2'.
            getHand: getHand, // Sets the getHand property of the player2 object to the getHand function.
            wins: 0 // Sets the wins property of the player2 object to 0.
        };

        const player3 = { // Creates an object called player3.
            name: 'Player 3', // Sets the name property of the player3 object to 'Player 3'.
            getHand: getHand, // Sets the getHand property of the player3 object to the getHand function.
            wins: 0 // Sets the wins property of the player3 object to 0.
        };

        function playGame(player1, player2, playUntil) { // Defines a function called playGame that takes three parameters: player1, player2, and playUntil.
            while (player1.wins < playUntil && player2.wins < playUntil) { // Starts a loop that continues as long as player1's wins are less than playUntil and player2's wins are less than playUntil.
                playRound(player1, player2); // Calls the playRound function with player1 and player2 as arguments.
            }

            return player1.wins > player2.wins ? player1 : player2; // Returns the player who has more wins.
        }

        function playTournament(player1, player2, player3, player4, playUntil) { // Defines a function called playTournament that takes five parameters: player1, player2, player3, player4, and playUntil.
            const winner1 = playGame(player1, player2, playUntil); // Calls the playGame function with player1, player2, and playUntil as arguments, and assigns the return value to winner1.
            const winner2 = playGame(player3, player4, playUntil); // Calls the playGame function with player3, player4, and playUntil as arguments, and assigns the return value to winner2.

            const champion = playGame(winner1, winner2, playUntil); // Calls the playGame function with winner1, winner2, and playUntil as arguments, and assigns the return value to champion.

            document.getElementById('results').innerHTML += `<p class="winner">${champion.name} is the world champion with ${champion.wins} wins!</p>`; // Selects the div with the id 'results' and adds a paragraph to its innerHTML property. The paragraph contains the champion's name and number of wins.
        }

        // Play a game to 3 wins
        // playGame(player1, player2, 3);

        // Play a tournament
        // playTournament(player1, player2, player3, player4, 3);
    </script> <!-- The script tag is closed here. -->
</body> 

</html> 
